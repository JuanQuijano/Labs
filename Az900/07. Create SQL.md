# Create a SQL database #
In this walkthrough, we will create a SQL database in Azure and then query the data in that database.

## Task 1: Create the database ##
In this task, we will create a SQL database based on the AdventureWorksLT sample database.

Open your choice of web browser and sign in to the Azure portal by navigating to https://portal.azure.com and entering the following Azure Credentials:

    * Username: alumnoXX@juanquijanodemos.onmicrosoft.com
    * Password: AzurePa55w0rd1234

On Stay signed in? select Yes.

From the All services blade, search for and select SQL databases, and then click + Create.

On the Basics tab, fill in this information then click OK.

    | Setting | Value |
    |---------|-------|
    | Subscription | Aula01 |
    | Resource Group | RGalumnoXX |
    | Database name | db1 |

    | Server | Select Create new (A new screen will open) |
    | Server name | sqlserveralumnoXX |
    | Location | <Choose one where it allows you to build it> |
    | Authentication method | Use SQL authentication |
    | Server admin login | sqluser |
    | Password | AzurePa55w0rd1234 |

    | Return to main screen | --- |
    | Workload environment | Development |
    
    | Compute + storage | Configure database (A new screen will open) |
    | Explore Service and compute tier | Leave it configured by default  |

Click Next : Networking then configure the following settings (leave others with their defaults)

    | Setting | Value |
    |---------|-------|
    | Connectivity method | Public endpoint |
    | Database name | db1 |
    | Database name | db1 |
    | Database name | db1 |
    | Database name | db1 |

Click Next : Security then on the Security tab.

Click Next : Additional settings. We will be using the AdventureWorksLT sample database.

    | Setting | Value |
    |---------|-------|
    | Use existing data | Sample |

Click Review + create and then click Create to deploy and provision the resource group, server, and database. It can take approx. 2 to 5 minutes to deploy.

## Task 2: Test the database. ##
In this task, we will configure the SQL server and run a SQL query.

When the deployment has completed, clickâ€¯ Go to resource from the deployment blade. Alternatively, from the All Resources blade, search for and select SQL databases. Ensure your new database was created. You may need to Refresh the page.

Click the db1 entry representing the SQL database you created. On the db1 blade click Query editor (preview).

Login as sqluser with the password AzurePa55w0rd1234 then click OK

You will not be able to login. Read the error closely and make note of the IP address that needs to be allowed through the firewall.

Back on the db1 blade, click Overview then OK.

From the db1 Overview blade, click Set server firewall Located on the top center of the overview screen.

Click + Add your client IPv4 address (scroll down to Firewall rules) to add the IP address referenced in the error. (it may have autofilled for you - if not paste it into the IP address fields). Be sure to Save your changes.

Return to your SQL database (navigate back using the breadcrumb menu at the top) and click on Query Editor (Preview). Try to login again as sqluser with the password AzurePa55w0rd1234. This time you should succeed. Note that it may take a couple of minutes for the new firewall rule to be deployed.

Note: If the below pastable, does not paste correctly. Please type the query out manually.

Once you log in successfully, the query pane appears. Enter the following query into the editor pane.

> <code>SELECT TOP 20 pc.Name as CategoryName, p.name as ProductName
FROM SalesLT.ProductCategory pc
JOIN SalesLT.Product p
ON pc.productcategoryid = p.productcategoryid;</code>

Note You may need to re-format the query so that it can run successfully. Make the query is written in the same format as the following screenshot.

Click Run, and then review the query results in the Results pane. The query should run successfully.

> Congratulations! You have created a SQL database in Azure and successfully queried the data in that database.